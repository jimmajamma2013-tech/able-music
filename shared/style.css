/* ═══════════════════════════════════════════════════════════════
   ABLE — Shared Design System v2
   All pages import this file.
   Artist themes applied via data-theme on <body>.
   Dark mode: automatic via prefers-color-scheme.
═══════════════════════════════════════════════════════════════ */

/* ── Reset ─────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { -webkit-text-size-adjust: 100%; scroll-behavior: smooth; }
body { min-height: 100vh; }
img, video { max-width: 100%; display: block; }
button, input, textarea, select { font: inherit; }
button { cursor: pointer; border: none; background: none; }
a { text-decoration: none; color: inherit; }
ul, ol { list-style: none; }

/* ── Base tokens — Warm (default) ───────────────────────────── */
:root {
  --page:         #f6f5f2;
  --surface:      #ffffff;
  --surface2:     #f0eeeb;
  --surface3:     #e8e5e1;
  --ink:          #0c0b0a;
  --ink2:         #5a5550;
  --ink3:         #9a948e;
  --line:         rgba(0,0,0,0.07);
  --line2:        rgba(0,0,0,0.13);
  --accent:       #0891b2;
  --accent-dark:  #0e7490;
  --accent-soft:  rgba(8,145,178,0.09);
  --accent-glow:  rgba(8,145,178,0.22);
  --r-xs:         6px;
  --r-sm:         8px;
  --r:            14px;
  --r-lg:         20px;
  --r-xl:         28px;
  --r-full:       9999px;
  --shadow-sm:    0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md:    0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
  --shadow-lg:    0 8px 28px rgba(0,0,0,0.10), 0 3px 8px rgba(0,0,0,0.06);
  --t:            0.18s;
  --ease:         cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --font:         'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --max-w:        480px;
}

/* ── Auto dark mode ─────────────────────────────────────────── */
@media (prefers-color-scheme: dark) {
  :root {
    --page:      #111110;
    --surface:   #1c1b1a;
    --surface2:  #252422;
    --surface3:  #2e2c2a;
    --ink:       #f5f4f2;
    --ink2:      #a8a39d;
    --ink3:      #6b6560;
    --line:      rgba(255,255,255,0.07);
    --line2:     rgba(255,255,255,0.13);
  }
}

/* ── Artist themes ──────────────────────────────────────────── */

/* Warm (default) — off-white, teal */
[data-theme="warm"] {
  --page:        #f6f5f2;
  --surface:     #ffffff;
  --surface2:    #f0eeeb;
  --accent:      #0891b2;
  --accent-dark: #0e7490;
  --accent-soft: rgba(8,145,178,0.09);
  --accent-glow: rgba(8,145,178,0.22);
}

/* Dark — near-black, electric purple */
[data-theme="dark"] {
  --page:        #0f0f11;
  --surface:     #1a1a1f;
  --surface2:    #232328;
  --surface3:    #2c2c34;
  --ink:         #f0efee;
  --ink2:        #9e98a8;
  --ink3:        #6b6378;
  --line:        rgba(255,255,255,0.07);
  --line2:       rgba(255,255,255,0.13);
  --accent:      #7c3aed;
  --accent-dark: #6d28d9;
  --accent-soft: rgba(124,58,237,0.12);
  --accent-glow: rgba(124,58,237,0.28);
}

/* Minimal — pure white, pure black */
[data-theme="minimal"] {
  --page:        #ffffff;
  --surface:     #f9f9f9;
  --surface2:    #f0f0f0;
  --surface3:    #e6e6e6;
  --ink:         #000000;
  --ink2:        #444444;
  --ink3:        #888888;
  --line:        rgba(0,0,0,0.08);
  --line2:       rgba(0,0,0,0.15);
  --accent:      #000000;
  --accent-dark: #000000;
  --accent-soft: rgba(0,0,0,0.06);
  --accent-glow: rgba(0,0,0,0.15);
}

/* Bold — warm cream, burnt orange */
[data-theme="bold"] {
  --page:        #fdf6ec;
  --surface:     #ffffff;
  --surface2:    #faeedd;
  --surface3:    #f5e0c4;
  --ink:         #1a0800;
  --ink2:        #6b3a1a;
  --ink3:        #b07040;
  --line:        rgba(26,8,0,0.08);
  --line2:       rgba(26,8,0,0.15);
  --accent:      #ea580c;
  --accent-dark: #c2410c;
  --accent-soft: rgba(234,88,12,0.10);
  --accent-glow: rgba(234,88,12,0.25);
}

/* Night — deep blue-black, gold */
[data-theme="night"] {
  --page:        #090d18;
  --surface:     #111827;
  --surface2:    #1a2438;
  --surface3:    #243048;
  --ink:         #e8edf8;
  --ink2:        #8892b0;
  --ink3:        #5a6480;
  --line:        rgba(255,255,255,0.07);
  --line2:       rgba(255,255,255,0.13);
  --accent:      #f59e0b;
  --accent-dark: #d97706;
  --accent-soft: rgba(245,158,11,0.10);
  --accent-glow: rgba(245,158,11,0.28);
}

/* Electric — near-black, neon green */
[data-theme="electric"] {
  --page:        #0a0a0a;
  --surface:     #141414;
  --surface2:    #1e1e1e;
  --surface3:    #282828;
  --ink:         #f0f0f0;
  --ink2:        #a0a0a0;
  --ink3:        #666666;
  --line:        rgba(255,255,255,0.07);
  --line2:       rgba(255,255,255,0.13);
  --accent:      #22c55e;
  --accent-dark: #16a34a;
  --accent-soft: rgba(34,197,94,0.10);
  --accent-glow: rgba(34,197,94,0.25);
}

/* Dark themes override auto dark mode */
[data-theme="dark"],
[data-theme="night"],
[data-theme="electric"] {
  color-scheme: dark;
}

/* ── Typography ─────────────────────────────────────────────── */
body {
  font-family: var(--font);
  font-size: 16px;
  line-height: 1.5;
  color: var(--ink);
  background: var(--page);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4 {
  line-height: 1.2;
  letter-spacing: -0.02em;
}

/* ── Page layout ────────────────────────────────────────────── */
.page-wrap {
  width: 100%;
  max-width: var(--max-w);
  margin: 0 auto;
  padding: 0 20px;
}

/* Safe area on notched phones */
.page-wrap {
  padding-left:  max(20px, env(safe-area-inset-left));
  padding-right: max(20px, env(safe-area-inset-right));
}

/* ── Skip link ──────────────────────────────────────────────── */
.skip-link {
  position: absolute;
  left: -999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-link:focus {
  position: fixed;
  top: 16px; left: 16px;
  width: auto; height: auto;
  padding: 12px 20px;
  background: var(--ink);
  color: var(--page);
  border-radius: var(--r);
  z-index: 9999;
  font-weight: 700;
}

/* ── Scroll progress bar ────────────────────────────────────── */
#pgbar {
  position: fixed;
  top: 0; left: 0;
  height: 2px;
  width: 0%;
  background: var(--accent);
  z-index: 1000;
  transition: width 0.1s linear;
  pointer-events: none;
}

/* ── Card ───────────────────────────────────────────────────── */
.card {
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: var(--r);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

/* ── Buttons ────────────────────────────────────────────────── */
.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: var(--ink);
  color: var(--page);
  font-size: 15px;
  font-weight: 700;
  letter-spacing: -0.01em;
  padding: 13px 28px;
  border-radius: var(--r-full);
  border: none;
  box-shadow: 0 4px 16px rgba(0,0,0,0.14);
  transition: transform var(--t) var(--ease), box-shadow var(--t) var(--ease);
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}
.btn-primary:hover  { transform: translateY(-1px); box-shadow: 0 6px 24px rgba(0,0,0,0.22); }
.btn-primary:active { transform: translateY(0) scale(0.98); }
.btn-primary svg    { width: 16px; height: 16px; flex-shrink: 0; }

.btn-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
  background: transparent;
  color: var(--ink);
  font-size: 15px;
  font-weight: 600;
  padding: 12px 24px;
  border-radius: var(--r-full);
  border: 1.5px solid var(--line2);
  transition: all var(--t) var(--ease);
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}
.btn-secondary:hover  { border-color: var(--ink); background: var(--surface2); }
.btn-secondary:active { transform: scale(0.97); }
.btn-secondary svg    { width: 15px; height: 15px; flex-shrink: 0; }

.btn-accent {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
  color: #fff;
  font-size: 15px;
  font-weight: 700;
  padding: 13px 28px;
  border-radius: var(--r-full);
  border: none;
  box-shadow: 0 4px 16px var(--accent-glow);
  transition: all var(--t) var(--ease);
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}
.btn-accent:hover  { transform: translateY(-1px); box-shadow: 0 6px 20px var(--accent-glow); }
.btn-accent:active { transform: scale(0.98); }

.btn-ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
  background: var(--surface2);
  color: var(--ink2);
  font-size: 13px;
  font-weight: 600;
  padding: 10px 18px;
  border-radius: var(--r-full);
  border: 1px solid var(--line);
  transition: all var(--t) var(--ease);
  width: 100%;
  margin-top: 12px;
}
.btn-ghost:hover { background: var(--surface3); color: var(--ink); }
.btn-ghost svg   { width: 14px; height: 14px; }

/* ── Badge ──────────────────────────────────────────────────── */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.01em;
  padding: 5px 12px;
  border-radius: var(--r-full);
  border: 1px solid;
  background: var(--accent-soft);
  color: var(--accent-dark);
  border-color: var(--accent-glow);
}

.badge.mode-live        { background: rgba(5,150,105,.10);  color: #059669; border-color: rgba(5,150,105,.22); }
.badge.mode-pre-release { background: rgba(124,58,237,.10); color: #7c3aed; border-color: rgba(124,58,237,.22); }
.badge.mode-gig         { background: rgba(234,88,12,.10);  color: #ea580c; border-color: rgba(234,88,12,.22); }
.badge.mode-evergreen   { background: var(--accent-soft);   color: var(--accent-dark); border-color: var(--accent-glow); }

.live-dot {
  width: 7px; height: 7px;
  border-radius: 50%;
  background: currentColor;
  animation: pulse 2s ease infinite;
  flex-shrink: 0;
}
@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%       { opacity: 0.5; transform: scale(0.85); }
}

/* ── Chip ───────────────────────────────────────────────────── */
.chip {
  display: inline-flex;
  align-items: center;
  font-size: 12px;
  font-weight: 600;
  color: var(--ink2);
  background: var(--surface2);
  border: 1px solid var(--line);
  border-radius: var(--r-full);
  padding: 4px 11px;
}

/* ── Form elements ──────────────────────────────────────────── */
.form-input {
  width: 100%;
  background: var(--surface);
  border: 1.5px solid var(--line2);
  border-radius: var(--r-sm);
  padding: 12px 14px;
  font-size: 15px;
  color: var(--ink);
  transition: border-color var(--t);
  outline: none;
  -webkit-appearance: none;
}
.form-input:focus    { border-color: var(--accent); }
.form-input.err      { border-color: #ef4444; animation: shake 0.3s var(--ease); }
.form-input::placeholder { color: var(--ink3); }

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25%       { transform: translateX(-5px); }
  75%       { transform: translateX(5px); }
}

.form-label {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--ink2);
  margin-bottom: 6px;
}

.form-hint {
  font-size: 12px;
  color: var(--ink3);
  margin-top: 5px;
}

/* ── Section label ──────────────────────────────────────────── */
.sec-label {
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: var(--ink3);
  margin-bottom: 10px;
}

/* ── Divider ────────────────────────────────────────────────── */
.divider {
  height: 1px;
  background: var(--line);
  margin: 20px 0;
}

/* ── Toast ──────────────────────────────────────────────────── */
#able-toast {
  position: fixed;
  bottom: max(88px, calc(72px + env(safe-area-inset-bottom)));
  left: 50%;
  transform: translateX(-50%) translateY(10px);
  background: var(--ink);
  color: var(--page);
  border-radius: var(--r);
  padding: 11px 20px;
  font-size: 14px;
  font-weight: 600;
  opacity: 0;
  pointer-events: none;
  transition: all 0.25s var(--ease);
  z-index: 9000;
  white-space: nowrap;
  box-shadow: var(--shadow-lg);
}
#able-toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* ── Fade-in on scroll ──────────────────────────────────────── */
.fade-in {
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 0.5s var(--ease), transform 0.5s var(--ease);
}
.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ── Reduce motion ──────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
  .fade-in { opacity: 1; transform: none; }
}

/* ── Sticky header (shared across pages) ───────────────────── */
.hdr {
  position: sticky;
  top: 0;
  z-index: 200;
  background: transparent;
  transition: background var(--t), box-shadow var(--t);
}
.hdr.stuck {
  background: rgba(var(--page-rgb, 246,245,242), 0.85);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  box-shadow: 0 1px 0 var(--line);
}
.hdr-inner {
  max-width: var(--max-w);
  margin: 0 auto;
  padding: 14px max(20px, env(safe-area-inset-left));
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.hdr-name {
  font-size: 15px;
  font-weight: 800;
  letter-spacing: -0.02em;
  opacity: 0;
  transition: opacity var(--t);
}
.hdr.stuck .hdr-name { opacity: 1; }

.hdr-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.icon-btn {
  width: 36px; height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  color: var(--ink2);
  transition: all var(--t) var(--ease);
  -webkit-tap-highlight-color: transparent;
}
.icon-btn:hover { background: var(--surface2); color: var(--ink); }
.icon-btn svg   { width: 18px; height: 18px; }

/* ── Able wordmark (footer / shared) ───────────────────────── */
.able-brand {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  font-size: 13px;
  font-weight: 700;
  color: var(--ink3);
  transition: color var(--t);
}
.able-brand:hover { color: var(--accent); }
.able-brand svg   { flex-shrink: 0; }
